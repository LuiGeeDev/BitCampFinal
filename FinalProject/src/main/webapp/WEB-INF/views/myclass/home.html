<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  th:replace="fragments/layout :: layout(~{:: main}, ~{:: script}, ~{:: link})"
>
  <head>
    <!-- 이 페이지에서만 별도로 사용하는 CSS가 있다면 여기다 link 태그로 삽입 -->
    <link rel="stylesheet" th:href="@{/css/myclass/home.css}" />
    <link
      rel="stylesheet"
      href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"
    />
    <link rel="stylesheet" href="/resources/demos/style.css" />
  </head>

  <body>
    <!-- 이 페이지의 내용은 main 클래스 div 태그 안에 작성 -->
    <div class="main" th:fragment="main">
      <div class="myclassWrapper">
        <div class="row">
          <div class="processBar cardshadow">
            <h3 class="card-title">내 수업</h3>
            <h5 th:text="${course.course_name}">
              프론트엔드 및 백엔드 개발자 양성과정
            </h5>
            <span class="barDate">
              <span
                class="start-date"
                th:text="${#temporals.format(course.startDate, 'yyyy-MM-dd')}"
              >
                2019-01-30
              </span>
              ~
              <span
                class="end-date"
                th:text="${#temporals.format(course.endDate, 'yyyy-MM-dd')}"
              >
                2019-01-30
              </span>
            </span>
            <span class="barPercent">
              <span class="progres">
                <span>
                  <span
                    class="progress-bar bg-warning progress-bar-striped"
                    th:style="'width:' + ${completion} + '%; height: 30px;'"
                  ></span>
                </span>
              </span>
              <span class="progressview" th:text="${completion} + '% 진행 중'">
                70% 진행중
              </span>
            </span>
          </div>
          <div class="recentBoard">
            <span class="recentHomework cardshadow">
              <span class="moreRow">
                <span class="card-title">최근 과제</span>
                <span class="moreLotation">더보기</span>
              </span>
              <span class="recentHomeworkcontent">
                7월30일에 칸반 보드 정리할 사람 가위바위보로 정하기
              </span>
            </span>
            <span class="recentProject cardshadow">
              <span class="moreRow">
                <span class="card-title">최근 프로젝트</span>
                <span class="moreLotation">더보기</span>
              </span>
              <span class="recentProjectcontent">파이널 프로젝트 진행중</span>
            </span>
          </div>
        </div>
        <div class="row">
          <div class="myclassBoard cardshadow">
            <div class="myclassTitle">
              <h3 class="card-title">최신 글</h3>
            </div>
            <div class="myclassContent">
              <table id="class-recent-article">
                <thead>
                  <tr>
                    <th>게시판</th>
                    <th>제목</th>
                    <th>글쓴이</th>
                    <th>올린 시간</th>
                  </tr>
                </thead>
                <tbody>
                  <tr th:each="article : ${recentArticles}">
                    <td th:text="${article.board_name}"></td>
                    <td th:text="${article.title}"></td>
                    <td th:text="${article.writer.name}"></td>
                    <td th:text="${#temporals.format(article.timeLocal, 'MM-dd HH:mm')}"></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="row">
          <div id="calendar" class="CalendarCard cardshadow"></div>
        </div>
      </div>
    </div>
    <!-- 이 페이지에서 사용하는 자바스크립트는 이 script 태그 안에 작성 -->
    <script>
      const calendarEl = document.getElementById("calendar");
      let calendar = new FullCalendar.Calendar(calendarEl, {
        plugins: ["dayGrid"],
        defaultView: "dayGridMonth",
        locale: "ko",
        columnHeaderFormat: {
          day: "2-digit",
          weekday: "short"
        },
        header: {
          left: "title",
          center: "",
          right: "today prev,next"
        },
        events: [
          {
            title: "조 회식",
            start: "2019-07-05",
            end: "2019-07-05",
            color: "tomato",
            textColor: "white"
          },
          {
            title: "비트캠프 졸업",
            start: "2019-07-30",
            end: "2019-07-30",
            color: "coral",
            textColor: "white"
          },
          {
            title: "호텔 델루나 첫방송",
            start: "2019-07-13",
            end: "2019-07-15",
            color: "purple",
            textColor: "white"
          },
          {
            title: "회식",
            start: "2019-06-24",
            end: "2019-06-24",
            textColor: "white"
          }
        ]
      });
      calendar.render();
      $("#button-checklist").on("shown.bs.modal", function() {
        $("#myInput").trigger("focus");
      });
    </script>
    <script src="/js/stack/write.js"></script>
    <script
      type="text/javascript"
      src="/resources/dist/static/js/manifest.d2e3a334bc98c3b96650.js"
    ></script>
    <script
      type="text/javascript"
      src="/resources/dist/static/js/vendor.71750e988b55e9735a64.js"
    ></script>
    <script
      type="text/javascript"
      src="/resources/dist/static/js/app.55e5fc1c8db3bc542a1f.js"
    ></script>
  </body>
</html>
